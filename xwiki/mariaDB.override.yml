version: '2'

services:
  mysql:
    # Create the initial MySQL database and user with these defaults
    # See https://hub.docker.com/_/mysql/ for more details.
    environment:
      - MYSQL_ROOT_PASSWORD=mysql
      - MYSQL_USER=xwiki
      - MYSQL_PASSWORD=xwiki
      - MYSQL_DATABASE=xwiki
    command:
    # The following options are typically supplied via the mysql.cnf file
    # providing them directly here avoids the need
    - --key_buffer_size=384M
    - --sort_buffer_size=4M
    - --read_buffer_size=1M
    # xwiki specifically
    - --character-set-server=utf8
    - --collation-server=utf8_bin
    - --explicit-defaults-for-timestamp=1


